PaymentPage.Component["admin-marketing-notifications"]={container:{},configuration:{area_slug:""},data:{name:"",description:"",features:[],submit_text:"",first_name:"",last_name:"",email_address:"",current_user:{}},Init:function(t){this.container=t;let a=this;payment_page_component_configuration_parse(this,(function(){a._loadData()}))},_loadData:function(){let t=this;PaymentPage.setLoadingContent(this.container),PaymentPage.API.fetch("payment-page/v1/tagging/area/"+this.configuration.area_slug,!1,(function(a){"object"==typeof a?(t.data=a.data,t._loadTemplate()):PaymentPage.setFailedAssetFetchContent(t.container)}))},_loadTemplate:function(){let t=this;PaymentPage.Template.load(this.container,"admin-marketing-notifications","template/default.html",this.data,(function(){t._bindEvents()}))},_bindEvents:function(){let t=this;this.container.find('[data-payment-page-component-admin-marketing-notifications-trigger^="pgs_notification_"]').on("click",(function(){"selected"===(void 0===jQuery(this).attr("data-payment-page-interaction-state")?"":jQuery(this).attr("data-payment-page-interaction-state"))?jQuery(this).removeAttr("data-payment-page-interaction-state"):jQuery(this).attr("data-payment-page-interaction-state","selected"),0===t.container.find('[data-payment-page-component-admin-marketing-notifications-trigger^="pgs_notification_"][data-payment-page-interaction-state="selected"]').length?t.container.find(" > form").hide("slow"):t.container.find(" > form").show("slow"),t.container.find("[data-payment-page-notification]").remove()})),this.container.find('[data-payment-page-component-admin-marketing-notifications-trigger="pgs_notification"]').on("click",(function(){if(jQuery(this).find(".payment-page-application-loader-wrapper").length>0)return;PaymentPage.setLoadingContent(jQuery(this),"","mini");let a=jQuery(this),n=[];t.container.find("[data-payment-page-notification]").remove(),t.container.find('[data-payment-page-component-admin-marketing-notifications-trigger^="pgs_notification_"][data-payment-page-interaction-state="selected"]').each((function(){n.push(jQuery(this).attr("data-payment-page-tag"))})),PaymentPage.API.post("payment-page/v1/tagging/apply",{first_name:t.container.find('[name="first_name"]').val(),last_name:t.container.find('[name="last_name"]').val(),email_address:t.container.find('[name="email_address"]').val(),tags:n,area_slug:t.configuration.area_slug},(function(n){void 0!==n.message&&t.container.find(" > form").append('<div data-payment-page-notification="'+(void 0!==n.code?"danger":"success")+'">'+n.message+"</div>"),a.html(t.data.submit_text)}))}))}};